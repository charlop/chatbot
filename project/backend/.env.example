# =============================================================================
# Environment Configuration - Contract Refund Eligibility System
# =============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control

# =============================================================================
# Application Settings
# =============================================================================
APP_ENV=development  # development, staging, production
APP_NAME="Contract Refund Eligibility System"
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
DEBUG=true

# API Settings
API_V1_PREFIX=/api/v1
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# For local development (Docker or local PostgreSQL)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/contract_refund_system

# For production (use connection pooling)
# DATABASE_URL=postgresql://user:password@rds-endpoint:5432/dbname

# Connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# Redis Cache
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_TTL_DEFAULT=3600  # Default TTL in seconds (1 hour)

# Cache TTLs (in seconds)
CACHE_TTL_CONTRACT=900  # 15 minutes
CACHE_TTL_EXTRACTION=3600  # 1 hour
CACHE_TTL_DOCUMENT=1800  # 30 minutes
CACHE_TTL_SESSION=14400  # 4 hours

# =============================================================================
# LLM Providers
# =============================================================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.1

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4000
ANTHROPIC_TEMPERATURE=0.1

# AWS Bedrock (if using)
AWS_BEDROCK_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-key-here
AWS_SECRET_ACCESS_KEY=your-aws-secret-here
AWS_BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0

# LLM Settings
LLM_PROVIDER=anthropic  # openai, anthropic, bedrock
LLM_TIMEOUT=30  # seconds
LLM_MAX_RETRIES=3
LLM_CIRCUIT_BREAKER_THRESHOLD=5  # failures before circuit opens

# =============================================================================
# External Services (Mock for now, real URLs later)
# =============================================================================
# External RDB API (contract source)
EXTERNAL_RDB_API_URL=http://localhost:8001/api/contracts
EXTERNAL_RDB_API_KEY=mock-key-for-development

# Document Repository API
DOCUMENT_REPO_API_URL=http://localhost:8002/api/documents
DOCUMENT_REPO_API_KEY=mock-key-for-development

# =============================================================================
# Authentication (Phase 2 - currently unused)
# =============================================================================
# Auth provider will be determined later
# AUTH_PROVIDER=auth0  # auth0, okta, cognito
# AUTH_DOMAIN=your-domain.auth0.com
# AUTH_CLIENT_ID=your-client-id
# AUTH_CLIENT_SECRET=your-client-secret
# AUTH_AUDIENCE=https://your-api-audience
# JWT_SECRET=your-jwt-secret-here
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION=3600  # seconds

# =============================================================================
# Testing
# =============================================================================
# Test database (separate from dev)
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/contract_refund_system_test
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# Monitoring & Observability (optional for now)
# =============================================================================
# SENTRY_DSN=https://your-sentry-dsn
# DATADOG_API_KEY=your-datadog-key
